{"ast":null,"code":"import _regeneratorRuntime from\"C:/React/Food-Ordering/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/React/Food-Ordering/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/React/Food-Ordering/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import classes from'./AvailableMeals.module.css';import Card from'../UI/Card';import MealItem from'./MealItem/MealItem';// const DUMMY_MEALS = [\n//     {\n//         id: 'm1',\n//         name: 'Sushi',\n//         description: 'Finest fish and veggies',\n//         price: 22.99,\n//     },\n//     {\n//         id: 'm2',\n//         name: 'Schnitzel',\n//         description: 'A german specialty!',\n//         price: 16.5,\n//     },\n//     {\n//         id: 'm3',\n//         name: 'Barbecue Burger',\n//         description: 'American, raw, meaty',\n//         price: 12.99,\n//     },\n//     {\n//         id: 'm4',\n//         name: 'Green Bowl',\n//         description: 'Healthy...and green...',\n//         price: 18.99,\n//     },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";var AvailableMeals=function AvailableMeals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),httpError=_useState6[0],setHttpError=_useState6[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,responseData,loadedMeals,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return fetch('https://custom-hooks-26f46-default-rtdb.firebaseio.com/meals.json');case 3:response=_context.sent;if(response.ok){_context.next=7;break;}console.log(\"dddd\");throw new Error(\"Something went Wrong!!\");case 7:_context.next=9;return response.json();case 9:responseData=_context.sent;loadedMeals=[];for(key in responseData){loadedMeals.push({id:key,name:responseData[key].name,description:responseData[key].description,price:responseData[key].price});}console.log(loadedMeals);setMeals(loadedMeals);setIsLoading(false);case 15:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData().catch(function(error){setIsLoading(false);console.log(error);setHttpError(error.message);});},[]);var mealItems=meals.map(function(meal){return/*#__PURE__*/_jsx(MealItem,{meal:meal},meal.id);});if(isLoading){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"p\",{className:classes.isLoading,children:\"Loading...\"})});}if(httpError){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"p\",{className:classes.mealsError,children:httpError})});}return/*#__PURE__*/_jsx(Card,{className:classes.meals,children:/*#__PURE__*/_jsx(\"ul\",{children:mealItems})});};export default AvailableMeals;","map":{"version":3,"sources":["C:/React/Food-Ordering/src/Components/Meals/AvailableMeals.js"],"names":["useState","useEffect","classes","Card","MealItem","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchData","fetch","response","ok","console","log","Error","json","responseData","loadedMeals","key","push","id","name","description","price","catch","error","message","mealItems","map","meal","mealsError"],"mappings":"oaAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;2CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAkCP,QAAQ,CAAC,KAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAAkCT,QAAQ,EAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,SAAS,0FAAG,6KACdH,YAAY,CAAC,IAAD,CAAZ,CADc,sBAESI,CAAAA,KAAK,CAAC,mEAAD,CAFd,QAERC,QAFQ,kBAITA,QAAQ,CAACC,EAJA,yBAKVC,OAAO,CAACC,GAAR,CAAY,MAAZ,EALU,KAMJ,IAAIC,CAAAA,KAAJ,CAAU,wBAAV,CANI,8BASaJ,CAAAA,QAAQ,CAACK,IAAT,EATb,QASRC,YATQ,eAWRC,WAXQ,CAWM,EAXN,CAad,IAAWC,GAAX,GAAkBF,CAAAA,YAAlB,CAAgC,CAC5BC,WAAW,CAACE,IAAZ,CAAiB,CACbC,EAAE,CAAEF,GADS,CAEbG,IAAI,CAAEL,YAAY,CAACE,GAAD,CAAZ,CAAkBG,IAFX,CAGbC,WAAW,CAAEN,YAAY,CAACE,GAAD,CAAZ,CAAkBI,WAHlB,CAIbC,KAAK,CAAEP,YAAY,CAACE,GAAD,CAAZ,CAAkBK,KAJZ,CAAjB,EAMH,CAEDX,OAAO,CAACC,GAAR,CAAYI,WAAZ,EACAd,QAAQ,CAACc,WAAD,CAAR,CACAZ,YAAY,CAAC,KAAD,CAAZ,CAxBc,uDAAH,kBAATG,CAAAA,SAAS,0CAAf,CA2BAX,SAAS,CAAC,UAAM,CAEZW,SAAS,GAAGgB,KAAZ,CAAkB,SAAAC,KAAK,CAAI,CACvBpB,YAAY,CAAC,KAAD,CAAZ,CACAO,OAAO,CAACC,GAAR,CAAYY,KAAZ,EACAlB,YAAY,CAACkB,KAAK,CAACC,OAAP,CAAZ,CACH,CAJD,EAMH,CARQ,CAQN,EARM,CAAT,CAUA,GAAMC,CAAAA,SAAS,CAAGzB,KAAK,CAAC0B,GAAN,CAAU,SAACC,IAAD,CAAU,CAClC,mBACI,KAAC,QAAD,EAAwB,IAAI,CAAEA,IAA9B,EAAeA,IAAI,CAACT,EAApB,CADJ,CAGH,CAJiB,CAAlB,CAMA,GAAIhB,SAAJ,CAAe,CACX,mBAAO,sCACH,UAAG,SAAS,CAAEN,OAAO,CAACM,SAAtB,wBADG,EAAP,CAGH,CACD,GAAIE,SAAJ,CAAe,CACX,mBAAO,sCACH,UAAG,SAAS,CAAER,OAAO,CAACgC,UAAtB,UAAmCxB,SAAnC,EADG,EAAP,CAGH,CAED,mBACI,KAAC,IAAD,EAAM,SAAS,CAAER,OAAO,CAACI,KAAzB,uBACI,oBACKyB,SADL,EADJ,EADJ,CAOH,CAlED,CAoEA,cAAe1B,CAAAA,cAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport classes from './AvailableMeals.module.css';\r\nimport Card from '../UI/Card';\r\n\r\nimport MealItem from './MealItem/MealItem';\r\n\r\n// const DUMMY_MEALS = [\r\n//     {\r\n//         id: 'm1',\r\n//         name: 'Sushi',\r\n//         description: 'Finest fish and veggies',\r\n//         price: 22.99,\r\n//     },\r\n//     {\r\n//         id: 'm2',\r\n//         name: 'Schnitzel',\r\n//         description: 'A german specialty!',\r\n//         price: 16.5,\r\n//     },\r\n//     {\r\n//         id: 'm3',\r\n//         name: 'Barbecue Burger',\r\n//         description: 'American, raw, meaty',\r\n//         price: 12.99,\r\n//     },\r\n//     {\r\n//         id: 'm4',\r\n//         name: 'Green Bowl',\r\n//         description: 'Healthy...and green...',\r\n//         price: 18.99,\r\n//     },\r\n// ];\r\n\r\nconst AvailableMeals = () => {\r\n    const [meals, setMeals] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [httpError, setHttpError] = useState();\r\n\r\n    const fetchData = async () => {\r\n        setIsLoading(true);\r\n        const response = await fetch('https://custom-hooks-26f46-default-rtdb.firebaseio.com/meals.json');\r\n\r\n        if (!response.ok) {\r\n            console.log(\"dddd\");\r\n            throw new Error(\"Something went Wrong!!\");\r\n        }\r\n\r\n        const responseData = await response.json();\r\n\r\n        const loadedMeals = [];\r\n\r\n        for (const key in responseData) {\r\n            loadedMeals.push({\r\n                id: key,\r\n                name: responseData[key].name,\r\n                description: responseData[key].description,\r\n                price: responseData[key].price\r\n            });\r\n        }\r\n\r\n        console.log(loadedMeals);\r\n        setMeals(loadedMeals);\r\n        setIsLoading(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        fetchData().catch(error => {\r\n            setIsLoading(false);\r\n            console.log(error);\r\n            setHttpError(error.message);\r\n        });\r\n\r\n    }, []);\r\n\r\n    const mealItems = meals.map((meal) => {\r\n        return (\r\n            <MealItem key={meal.id} meal={meal} />\r\n        );\r\n    });\r\n\r\n    if (isLoading) {\r\n        return <section>\r\n            <p className={classes.isLoading}>Loading...</p>\r\n        </section>\r\n    }\r\n    if (httpError) {\r\n        return <section>\r\n            <p className={classes.mealsError}>{httpError}</p>\r\n        </section>\r\n    }\r\n\r\n    return (\r\n        <Card className={classes.meals}>\r\n            <ul>\r\n                {mealItems}\r\n            </ul>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default AvailableMeals;"]},"metadata":{},"sourceType":"module"}